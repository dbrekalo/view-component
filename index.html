<!doctype html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>View component</title><meta name="description" content="Lightweight javascript view component library"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="http://dbrekalo.github.io/view-component/"><style>﻿/*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:0.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}code[class*="language-"],pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]::-moz-selection,pre[class*="language-"] ::-moz-selection,code[class*="language-"]::-moz-selection,code[class*="language-"] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*="language-"]::selection,pre[class*="language-"] ::selection,code[class*="language-"]::selection,code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*="language-"],pre[class*="language-"]{text-shadow:none}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:rgba(255,255,255,0.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#DD4A68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}@font-face{font-family:'Lato';font-style:normal;font-weight:300;src:local("Lato Light"),local("Lato-Light"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-300-normal-latin-ext.woff2") format("woff2");unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:300;src:local("Lato Light"),local("Lato-Light"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-300-normal-latin.woff2") format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:local("Lato Regular"),local("Lato-Regular"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-400-normal-latin-ext.woff2") format("woff2");unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:local("Lato Regular"),local("Lato-Regular"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-400-normal-latin.woff2") format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-700-normal-latin-ext.woff2") format("woff2");unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-700-normal-latin.woff2") format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-900-normal-latin-ext.woff2") format("woff2");unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/lato-900-normal-latin.woff2") format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}a{text-decoration:none;cursor:pointer;color:inherit}a:focus,a::-moz-focus-inner{outline:none}ol,ul,li,h1,h2,h3,h4,p,a,td,dl,dt,dd,fieldset{margin:0;padding:0;list-style:none;border:0;font-size:1em}table{border-collapse:collapse;border-spacing:0}img{vertical-align:bottom}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0;outline:none;box-sizing:border-box;border-radius:0}textarea{overflow:auto;vertical-align:top;resize:vertical}label,button{cursor:pointer}html{font-size:62.5%}body{font-size:1em}@font-face{font-family:"attire";src:url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/attireIcons.eot?v1.0");src:url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/attireIcons.eot?v1.0#iefix") format("embedded-opentype"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/attireIcons.woff?v1.0") format("woff"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/attireIcons.ttf?v1.0") format("truetype"),url("https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/attireIcons.svg?v1.0https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/fonts/attireIcons") format("svg");font-weight:normal;font-style:normal}[class^="icon"],[class*=" icon"]{display:inline-block;position:relative;padding-left:40px}[class^="icon"]:before,[class*=" icon"]:before{font-family:"attire";speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;left:0;top:50%;margin:0;width:40px;height:40px;line-height:40px;margin-top:-20px;text-align:center;text-indent:0}.iconMenu:before{content:""}.iconArrowRight:before{content:""}.iconMail:before{content:""}.iconFacebook:before{content:""}.iconGithub:before{content:""}.iconTwitter:before{content:""}.iconCode:before{content:""}.iconSearch:before{content:""}.iconLink:before{content:""}.iconCross:before{content:""}html,body{min-height:100%;background:#fff}a{color:#2B91F5}body{font-family:Lato, Arial, sans-serif;font-weight:400;font-style:normal;font-size:1em;min-width:32em;position:relative;color:#303030}@-webkit-keyframes attireNavEnter{from{opacity:0;-webkit-transform:translate3d(0, -1em, 0)}to{opacity:1;-webkit-transform:translate3d(0, 0, 0)}}@-moz-keyframes attireNavEnter{from{opacity:0;-moz-transform:translate3d(0, -1em, 0)}to{opacity:1;-moz-transform:translate3d(0, 0, 0)}}@keyframes attireNavEnter{from{opacity:0;-webkit-transform:translate3d(0, -1em, 0);-moz-transform:translate3d(0, -1em, 0);-ms-transform:translate3d(0, -1em, 0);-o-transform:translate3d(0, -1em, 0);transform:translate3d(0, -1em, 0)}to{opacity:1;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}.attireMainNav{position:relative;margin-bottom:-1em;z-index:10;background-color:#fff}.attireMainNav>.toggleBtn{margin:0;padding:0;border:0;cursor:pointer;background:none;padding:0;display:inline-block;width:60px;height:60px;text-indent:-9999em;overflow:hidden}.attireMainNav>.toggleBtn::-moz-focus-inner{padding:0;border:0}.attireMainNav>.toggleBtn:before{right:0;width:auto;text-indent:0}.attireMainNav>.toggleBtn:before{font-size:2.6em;width:2.30769em}.attireMainNav>ul{padding:0 0 1em;display:none}.attireMainNav.isActive{margin-bottom:0}.attireMainNav.isActive>ul{-webkit-animation:attireNavEnter 0.3s;-moz-animation:attireNavEnter 0.3s;animation:attireNavEnter 0.3s;display:block}.attireMainNav a{font-size:1.4em;display:block;padding:1.07143em 1.42857em;color:#636363;letter-spacing:0.07em;text-transform:uppercase}.attireMainNav a:hover{color:#2B91F5}@media screen and (min-width: 45.0625em){.attireMainNav{margin-bottom:0}.attireMainNav>.toggleBtn{display:none}.attireMainNav>ul{display:block;overflow:hidden;padding:0 1.5em}.attireMainNav li{float:left}.attireMainNav a{font-size:1.4em;display:block;padding:1.42857em 1.07143em}}.githubRibbon{position:absolute;right:0;top:0;width:10em;z-index:20}.githubRibbon>img{display:block;width:100%}@media screen and (min-width: 45.0625em){.githubRibbon{width:14.9em}}.attireBlock{background-color:#fff;position:relative;border-top:1px solid #e3e3e3}.attireBlock:first-child{border-top:0}.attireBlock>.inner{padding:2em}.attireBlock.mod1{background-color:#FBFBFB}@media screen and (min-width: 45.0625em){.attireBlock>.inner{max-width:70em;padding:6em 2.5em;margin:0 auto}}.attireSeparator{margin:2.5em 0;position:relative;border:0;border-top:1px solid #e3e3e3}.attireSeparator.mod1{margin:3.5em 0;width:10em}.attireSeparator.mod2{margin:6em 0;width:10em;border-top:5px solid #636363}.attireFooter{padding:2em;border-top:1px solid #e3e3e3}.attireFooter>p{font-family:Lato, Arial, sans-serif;font-weight:300;font-style:normal;font-size:1.5em}.attireAuthor{position:relative;margin-bottom:3em}.attireAuthor>.imageElement{display:inline-block;overflow:hidden;vertical-align:middle;width:4em;height:4em;position:relative;border-radius:50%;border-radius:50%}.attireAuthor>.imageElement>img{display:block;width:100%}.attireAuthor>.name{font-family:Lato, Arial, sans-serif;font-weight:700;font-style:normal;font-size:1.3em;display:inline-block;vertical-align:middle;position:relative;text-transform:uppercase;letter-spacing:0.1em;padding:0 1em;background-color:#fff;color:#303030}.attireAuthor>.name:first-child{padding-left:0}@media screen and (max-width: 45em){.attireAuthor>.socialBox{position:relative;padding:1em 0 0;margin-top:0.5em}.attireAuthor>.socialBox a{font-size:1.4em;display:block;padding:.57143em .35714em .57143em 3.92857em;color:#707070}.attireAuthor>.socialBox a:before{font-size:1.3em}.attireAuthor>.socialBox:before{content:"";position:absolute;left:5.5em;top:0;right:0;border-top:1px solid #e3e3e3}}@media screen and (min-width: 45.0625em){.attireAuthor{margin-bottom:5em}.attireAuthor.noImage{margin-top:4em}.attireAuthor>.imageElement{width:5em;height:5em}.attireAuthor>.socialBox{position:absolute;right:0;top:50%;margin-top:-2em;background-color:#fff;padding:0 2em 0 1em}.attireAuthor>.socialBox a{padding:0;display:inline-block;width:40px;height:40px;text-indent:-9999em;overflow:hidden}.attireAuthor>.socialBox a:before{right:0;width:auto;text-indent:0}.attireAuthor>.socialBox a:before{font-size:2em;color:#636363}.attireAuthor>.socialBox a:hover:before{color:#2B91F5}.attireAuthor:before{content:"";position:absolute;left:0;right:0;top:50%;border-top:1px solid #e3e3e3}}.attireTitleType1{font-family:Lato, Arial, sans-serif;font-weight:900;font-style:normal;font-size:4em;padding:0;margin:0;word-wrap:break-word;letter-spacing:-0.01em}@media screen and (min-width: 45.0625em){.attireTitleType1{font-size:6em}}.attireTitleType1+.attireTextType2{margin-top:1.5625em}.attireTitleType2{font-family:Lato, Arial, sans-serif;font-weight:900;font-style:normal;font-size:3.8em;padding:0;margin:0 0 .55556em;word-wrap:break-word}.attireTitleType3{font-family:Lato, Arial, sans-serif;font-weight:700;font-style:normal;font-size:2.2em;padding:0;margin:0 0 .68182em;word-wrap:break-word}.attireTextType1{font-family:Lato, Arial, sans-serif;font-weight:300;font-style:normal;font-size:2.2em;padding:0;margin:.90909em 0 .90909em;color:#707070;line-height:1.4}@media screen and (min-width: 45.0625em){.attireTextType1{font-size:2.8em;margin:.71429em 0 1.07143em}}.attireTextType2{font-size:1.8em;padding:0;margin:0 0 1.11111em;color:#636363;line-height:1.6}.attireTextType3{font-size:1.6em;padding:0;margin:0 0 1.25em;color:#636363;line-height:1.6}.attireListType1{margin-bottom:2em}.attireListType1 li{font-size:1.7em;padding-left:1.76471em;margin:.58824em 0;position:relative;color:#636363;line-height:1.6}.attireListType1 li:before{content:"—";position:absolute;left:0;top:0em}.attireTextButtonType1{margin:0;padding:0;border:0;cursor:pointer;background:none;color:#2B91F5}.attireTextButtonType1::-moz-focus-inner{padding:0;border:0}.attireCodeHighlight[class*="language-"]{margin:2em 0}.attireCodeHighlight>code{font-size:1.4em}.attireCodeToggleBlock .attireCodeHighlight{display:none}.attireCodeToggleBlock.isActive .attireCodeHighlight{display:block}.attireCodeToggleBtn{margin:0;padding:0;border:0;cursor:pointer;background:none;padding:0 1.2em 0 0;color:#2B91F5}.attireCodeToggleBtn::-moz-focus-inner{padding:0;border:0}.attireCodeToggleBtn:before{left:auto;right:0;text-align:right}.attireUserRepositories{padding:2em;background-color:#FBFBFB;border-top:1px solid #e3e3e3}.attireUserRepositories>.loader{font-family:Lato, Arial, sans-serif;font-weight:300;font-style:normal;font-size:1.6em;padding:1.25em 0;text-align:center;color:#707070}.attireUserRepositories>.title{font-family:Lato, Arial, sans-serif;font-weight:300;font-style:normal;font-size:1.5em;padding-bottom:1.33333em;color:#707070}.attireUserRepositories>ul>li{padding:2em 0;position:relative}.attireUserRepositories>ul>li:last-child{padding-bottom:0}.attireUserRepositories>ul>li:before{content:"";position:absolute;left:0;top:0;width:3em;border-top:1px solid #e3e3e3}@media screen and (min-width: 45.0625em){.attireUserRepositories>.title{text-align:center;position:relative;padding:.33333em 0 1.66667em}.attireUserRepositories>.title:before{content:"";position:absolute;top:100%;left:50%;width:3.33333em;margin-left:-1.66667em;border-top:1px solid #e3e3e3}.attireUserRepositories>ul{max-width:110em;margin:0 auto;overflow:hidden}.attireUserRepositories>ul>li{float:left;width:33.33333%;box-sizing:border-box;padding:3em 4em 4em}.attireUserRepositories>ul>li:before{display:none}}.attireUserRepo{display:block}.attireUserRepo>.title{font-family:Lato, Arial, sans-serif;font-weight:700;font-style:normal;font-size:2.4em;margin-bottom:.75em;color:#303030}.attireUserRepo>.description{font-size:1.6em;line-height:1.6;color:#636363}</style></head><body><nav class="attireMainNav"><button class="toggleBtn iconMenu" type="button">Toggle navigation</button><ul><li><a href="#section-view-component">About</a></li><li><a href="#section-examples">Examples</a></li><li><a href="#section-api-and-options">Api and options</a></li><li><a href="#section-installation">Installation</a></li></ul></nav><section id="section-view-component" class="attireBlock"><div class="inner"><h1 id="view-component" class="attireTitleType1">View component</h1><p class="attireTextType1">Library for building user interfaces with smart event system, strict component props and clear way of defining view hierarchy. Works great with server side rendered html. Weighs around 3.7 KB.</p><nav class="attireAuthor withImage"><a class="imageElement" href="https://github.com/dbrekalo"><img src="https://s.gravatar.com/avatar/32754a476fb3db1c5a1f9ad80c65d89d?s=80" alt="Damir Brekalo"> </a><a class="name" href="https://github.com/dbrekalo">Damir Brekalo</a><p class="socialBox"><a href="mailto:dbrekalo@gmail.com" class="iconMail" title="Contact me by email">Contact me by email</a> <a href="https://github.com/dbrekalo" class="iconGithub" title="Find me on Github">Find me on Github</a> <a href="https://twitter.com/dbrekalo" class="iconTwitter" title="Reach me on Twitter">Reach me on Twitter</a></p></nav><p class="attireTextType2">Designed to be versatile for small widgets and complete web applications. Best companion of server rendered applications where frameworks like Vue and React are difficult to adopt. Requires no build setup and can be easily integrated to existing project. Supports all browsers that are ES5-compliant (IE8 and below are not supported).</p><hr class="attireSeparator mod1"><h3 id="features" class="attireTitleType3">Features</h3><ul class="attireListType1"><li>delegated event listeners with automatic cleanup</li><li>one time event listeners for lazy loading anything</li><li>props definition and validation with simple schema setup</li><li>publish and subscribe api for component to component communication</li><li>hierarchy api for mapping child views to parent view html tree</li><li>extending api for sub-classing components with prototype and static properties</li><li>mixins for sharing reusable functionality across components</li></ul><hr class="attireSeparator mod1"><pre class="attireCodeHighlight"><code class="lang-js">npm install view-component --save
</code></pre></div></section><section id="section-examples" class="attireBlock"><div class="inner"><h2 id="examples" class="attireTitleType2">Examples</h2><hr class="attireSeparator mod1"><h3 id="dropdown-component-with-toggle-ui" class="attireTitleType3">Dropdown component with toggle UI</h3><p class="attireTextType2">Component html:</p><pre class="attireCodeHighlight"><code class="lang-html">&lt;nav class="dropdown"&gt;
    &lt;button type="button" class="toggleBtn"&gt;&lt;/button&gt;
    &lt;ul&gt;
        &lt;li&gt;...&lt;/li&gt;
    &lt;/ul&gt;
&lt;/nav&gt;
</code></pre><p class="attireTextType2">Component javascript:</p><pre class="attireCodeHighlight"><code class="lang-js">// define Dropdown component
var Dropdown = ViewComponent.extend({
    props: {
        activeClass: {
            type: String,
            default: 'opened'
        }
    },
    events: {
        'click .toggleBtn': 'toggle'
    },
    toggle: function() {
        this.isOpened() ? this.close() : this.open();
    },
    isOpened: function() {
        return this.el.classList.contains(this.activeClass);
    },
    open: function() {
        this.el.classList.add(this.activeClass);
    },
    close: function() {
        this.el.classList.remove(this.activeClass);
    }
});

// create dropdown instance
new Dropdown({el: '.dropdown'});
</code></pre><hr class="attireSeparator mod1"><h3 id="list-component-with-view-tree" class="attireTitleType3">List component with view tree</h3><p class="attireTextType2">Component html:</p><pre class="attireCodeHighlight"><code class="lang-html">&lt;ul&gt;
    &lt;li&gt;...&lt;/li&gt;
    &lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
</code></pre><pre class="attireCodeHighlight"><code class="lang-js">// define List item component
var ListItem = ViewComponent.extend({...});

// define List component
var List = ViewComponent.extend({
    initialize: function() {
        this.mapViews('li', ListItem);
    }
});

// create list instance
new List({el: 'ul'});
</code></pre></div></section><section id="section-api-and-options" class="attireBlock"><div class="inner"><h2 id="api-and-options" class="attireTitleType2">Api and options</h2><hr class="attireSeparator mod1"><h3 id="viewcomponent-extend-prototypeproperties-staticproperties-" class="attireTitleType3">ViewComponent.extend(prototypeProperties, [staticProperties])</h3><p class="attireTextType2">Used to define view types / constructor functions. Define prototype methods for view via object hash. Static properties are optional.</p><pre class="attireCodeHighlight"><code class="lang-js">var View = ViewComponent.extend({
    prototypeAttribute: 42,
    prototypeMethod: function() {}
}, {
    staticAttribute: 'foo',
    staticMethod: function() {}
});

// prototype method call
new View().prototypeMethod();

// static method call
View.staticMethod();
</code></pre><p class="attireTextType2">Subclassing components:</p><pre class="attireCodeHighlight"><code class="lang-js">var Animal = ViewComponent.extend({
    cuddle: function() {
        console.log('Cuddling...');
    }
});

var Dog = Animal.extend({
    cuddle: function() {
        Animal.prototype.cuddle.call(this);
        console.log('And barking');
    }
});

var Cat = Animal.extend({
    cuddle: function() {
        throw new Error('Meeeow');
    }
});

</code></pre><hr class="attireSeparator mod1"><h3 id="mixins-array" class="attireTitleType3">mixins: Array</h3><p class="attireTextType2">Used to inject reusable functionality into components. Mixins can contain hooks (initialize, beforeRemove and afterRemove), events, and prototype properties. Multiple mixins can be attached to component.</p><pre class="attireCodeHighlight"><code class="lang-js">var dropdownMixin = {
    initialize: function() {
        console.log('Dropdown mixin inside');
    },
    events: 'click .dropdown': 'toggle',
    toggle: function() {
        this.el.classList.contains('opened')
            ? this.close()
            : this.open()
        ;
    },
    open: function() {
        this.el.classList.add('opened');
    },
    close: function() {
        this.el.classList.remove('opened');
    }
};

var View = ViewComponent.extend({
    mixins: [dropdownMixin]
});

new View(); // outputs "Dropdown mixin inside"
</code></pre><hr class="attireSeparator mod1"><h3 id="props-object" class="attireTitleType3">props: object</h3><p class="attireTextType2">Validate component props. Set expectations for valid property types. Mark properties as required and provide default values. Custom validation logic can also be used when simple type checks are not enough.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    props: {
        firstName: String,
        lastName: {
            type: String,
            required: true
        },
        address: String,
        zipCode: [String, Number],
        age: {
            type: Number,
            validator: age =&gt; age &gt; 17
        },
        acceptsCookies: {
            type: Boolean,
            default: false
        }
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="initialize-" class="attireTitleType3">initialize()</h3><p class="attireTextType2">Method / hook called on view bootstrap.</p><pre class="attireCodeHighlight"><code class="lang-js">var View = ViewComponent.extend({
    initialize: function() {
        // do some work
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="beforeremove-" class="attireTitleType3">beforeRemove()</h3><p class="attireTextType2">Method / hook called before view removal.</p><pre class="attireCodeHighlight"><code class="lang-js">var View = ViewComponent.extend({
    initialize: function() {
        this.plugin = new Plugin();
    },
    beforeRemove: function() {
        this.plugin.destroy();
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="events-object-function" class="attireTitleType3">events: object | function</h3><p class="attireTextType2">Declare events with object hash or custom function. Event delegation is used so there is no need to rebind events when view html content is updated (with ajax or otherwise). All declared listeners are removed when view is removed.</p><pre class="attireCodeHighlight"><code class="lang-js">// with object definition
ViewComponent.extend({
    events: {
        'click .selector': 'handler', // bound to this.handler
        'one:submit form': 'oneSubmit', // listener will fire only once
        'click button': function(e) {}, // inline handler
        'resize window': 'onWindowResize', // window events
        'keyup document': 'onDocumentKeyup' // document events
    }
});
// with function definition
ViewComponent.extend({
    events: function() {
        return {'click .selector': 'handler'};
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="adddismisslistener-listener-" class="attireTitleType3">addDismissListener(listener)</h3><p class="attireTextType2">When escape key is pressed or element outside view is clicked listener will be called.</p><pre class="attireCodeHighlight"><code class="lang-js">var dismissListener = require('view-component/lib/mixins/dismissListener');

ViewComponent.extend({
    mixins: [dismissListener],
    open: function() {
        // after open logic
        this.addDismissListener(this.close);
    },
    close: function() {
        // after close logic
        this.removeDismissListener(this.close);
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="removedismisslistener-listener-" class="attireTitleType3">removeDismissListener(listener)</h3><p class="attireTextType2">Remove dismiss listener.</p><hr class="attireSeparator mod1"><h3 id="mapview-selector-view-props-" class="attireTitleType3">mapView(selector, View, [props])</h3><p class="attireTextType2">Create View instance with first html element inside current view found via selector. Returns mapped instance. Optional component props can be set as object or function returning object.</p><pre class="attireCodeHighlight"><code class="lang-html">&lt;body&gt;
    &lt;header class="mainHeader"&gt;&lt;/header&gt;
&lt;/body&gt;
</code></pre><pre class="attireCodeHighlight"><code class="lang-js">var Controller = ViewComponent.extend({
    initialize: function() {
        var headerView = this.mapView('.mainHeader', MainHeader);
    }
});

var MainHeader = ViewComponent.extend({});

new Controller({el: 'body'});
</code></pre><p class="attireTextType2">View components can be lazyloaded via view provider function which will be executed only if element is found via selector. mapView will return promise which resolves to view intance (if element is found) or undefined if not. Requires promise browser support or polyfill.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        this.mapView('.mainHeader', () =&gt; import(./MainHeader))
            .then(headerView =&gt; console.log(headerView));
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="mapviews-selector-view-props-" class="attireTitleType3">mapViews(selector, View, [props])</h3><p class="attireTextType2">Map View instances to all elements inside current view found via selector. Returns mapped instances array. Optional component props can be set as object or function returning object.</p><pre class="attireCodeHighlight"><code class="lang-html">&lt;ul&gt;
    &lt;li&gt;...&lt;/li&gt;
    &lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
</code></pre><pre class="attireCodeHighlight"><code class="lang-js">// define List component
var List = ViewComponent.extend({
    initialize: function() {
        this.mapViews('li', ListItem);
    }
});

// define List item component
var ListItem = ViewComponent.extend();

// create list instance
new List({el: 'ul'});
</code></pre><p class="attireTextType2">View components can be lazyloaded via view provider function which will be executed only if elements are found via selector. mapViews will return promise which resolves to view intances array (if elements are found) or empty array if not. Requires promise browser support or polyfill.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        this.mapViews('li', () =&gt; import(./ListItem));
            .then(listViews =&gt; console.log(listViews));
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="addview-viewinstance-" class="attireTitleType3">addView(viewInstance)</h3><p class="attireTextType2">Adds view instance to sub view registry. This binding enables effective cleanup of view hierarchy.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        var view = this.addView(new ViewComponent());
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="trigger-eventname-data-" class="attireTitleType3">trigger(eventName, [data])</h3><p class="attireTextType2">Trigger custom event and optionally provide data to handler callback.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        this.trigger('componentInitialized');
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="on-eventname-callback-" class="attireTitleType3">on(eventName, callback)</h3><p class="attireTextType2">Subscribe to custom view events</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        this.on('foo', function(data) {
            console.log(data);
        });
        this.trigger('foo', {foo: 'bar'});
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="off-eventname-callback-" class="attireTitleType3">off([eventName, [callback]])</h3><p class="attireTextType2">Removes listeners to custom view events.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        this.off('foo');
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="listento-publisher-eventname-callback-" class="attireTitleType3">listenTo(publisher, eventName, callback)</h3><p class="attireTextType2">Listen to other object events.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        initialize: function() {
            var headerView = this.mapView('.mainHeader', HeaderView);
            this.listenTo(headerView, 'customEvent' function(data) {
                console.log(data);
            });
        }
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="stoplistening-publisher-eventname-callback-" class="attireTitleType3">stopListening([publisher, [eventName, [callback]]])</h3><p class="attireTextType2">Removes listeners to custom publisher events.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
        initialize: function() {
            var headerView = this.mapView('.mainHeader', HeaderView);
            this.listenTo(headerView, 'customEvent' function(data) {
                console.log(data);
            });
            this.stopListening(headerView, 'customEvent');
        }
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="find-selector-" class="attireTitleType3">find(selector)</h3><p class="attireTextType2">Returns single html element found via selector inside current component element context.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
       var mainHeaderElement = this.find('.mainHeader');
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="findall-selector-" class="attireTitleType3">findAll(selector)</h3><p class="attireTextType2">Returns array of html elements found via selector inside current component element context.</p><pre class="attireCodeHighlight"><code class="lang-js">ViewComponent.extend({
    initialize: function() {
       var listElements = this.findAll('ul li');
    }
});
</code></pre><hr class="attireSeparator mod1"><h3 id="validatedata-schema-obj-" class="attireTitleType3">validateData(schema, obj)</h3><p class="attireTextType2">Validate object properties against schema (identical to props validation)</p><hr class="attireSeparator mod1"><h3 id="removeviews-" class="attireTitleType3">removeViews()</h3><p class="attireTextType2">Removes all registered sub views (added with mapView, mapViews and addView methods).</p><hr class="attireSeparator mod1"><h3 id="remove-" class="attireTitleType3">remove()</h3><p class="attireTextType2">Removes view from DOM and does cleanup of all bound events.</p></div></section><section id="section-installation" class="attireBlock"><div class="inner"><h2 id="installation" class="attireTitleType2">Installation</h2><p class="attireTextType2">View component is packaged as UMD library and can be used in client and server environments.</p><pre class="attireCodeHighlight"><code class="lang-js">// install via npm
npm install view-component --save

// if you use bundler
var ViewComponent = require('view-component');

// or use browser globals
var ViewComponent = window.ViewComponent;
</code></pre></div></section><section class="attireUserRepositories" data-only-with-pages="true" data-user="dbrekalo"></section><a class="githubRibbon" href="https://github.com/dbrekalo/view-component"><img src="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/images/githubRibbon.png" alt="Fork me on GitHub"></a><footer class="attireFooter"><p>This page is built with <a href="http://dbrekalo.github.io/attire/">Attire</a>.</p></footer><script src="https://gitcdn.xyz/repo/dbrekalo/attire/master/dist/js/demoBuild.min.js"></script></body></html>